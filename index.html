<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Spanish Flash Cards</title>
        <link rel="stylesheet" href="main.css">
        <script type="text/javascript" src="./words_data.js"></script>
        <script type="text/javascript">
            
            function get_random_int(max) {
                return Math.floor(Math.random() * max);
            }
            function get_random_bool() {
                var num = get_random_int(99);
                if(num >= 50) return true;
                return false;
            }
            function next_card() {
                
                hide_answer();

                var new_card = get_random_int(num_cards);
                if(new_card === current_card) return nextCard(); // no same 2 in a row
                current_card = new_card;
                this_card = words_array[new_card];

                var type_element = document.getElementById("type");
                var word_element = document.getElementById("word");
                var sentence_element = document.getElementById("sentence");
                var answer_type_element = document.getElementById("answer_type");
                var answer_word_element = document.getElementById("answer_word");
                var answer_sentence_element = document.getElementById("answer_sentence");

                 
                if(get_random_bool()) {
                    // spanish to english
                    type_element.innerHTML = this_card.spanish_type;
                    word_element.innerHTML = this_card.spanish_word;
                    sentence_element.innerHTML = this_card.spanish_sentence;
                    

                    answer_type_element.innerHTML = this_card.english_type;
                    answer_word_element.innerHTML = this_card.english_word;
                    answer_sentence_element.innerHTML = this_card.english_sentence;
                } 
                else {
                    // english to spanish
                    type_element.innerHTML = this_card.english_type;
                    word_element.innerHTML = this_card.english_word;
                    sentence_element.innerHTML = this_card.english_sentence;
                    
                    answer_type_element.innerHTML = this_card.spanish_type;
                    answer_word_element.innerHTML = this_card.spanish_word;
                    answer_sentence_element.innerHTML = this_card.spanish_sentence;
                }
            }
            function show_answer() {
                var answer_card_element = document.getElementById("answer_card");
                answer_card_element.style.visibility = "visible";
            }
            function hide_answer() {
                var answer_card_element = document.getElementById("answer_card");
                answer_card_element.style.visibility = "collapse";
            }
            words_array.forEach((element) => {
                console.log(element);//.spanish_sentence + "  =>  " + element.english_sentence);
            });
            var current_card = 0;
            var num_cards = words_array.length;

            
        </script>
    </head>
    <body>
        <h1>Tarjetas Flash en Español</h1>
        <div id="card">
            <p id="type">Frase</p>
            <p id="word">¡lo siento!</p>
            <p id="sentence">Lo siento, pero mi español no es muy bueno</p>
            <div class="buttonP"></div>
        </div>
        <div id="answer_card">
            <p id="answer_type">Frase</p>
            <p id="answer_word">¡lo siento!</p>
            <p id="answer_sentence">Lo siento, pero mi español no es muy bueno</p>
        </div>
        <div class="buttonP">
            <button onclick="show_answer()">Show answer</button>
            <button onclick="next_card()">Next card</button>
        </div>
        <script type="text/javascript">next_card()</script>
    </body>
</html>